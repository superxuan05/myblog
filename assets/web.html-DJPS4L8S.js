import{_ as n,c as a,f as e,o as i}from"./app-CH1X7Tg7.js";const l={};function t(p,s){return i(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="网络路由与交换技术" tabindex="-1"><a class="header-anchor" href="#网络路由与交换技术"><span>网络路由与交换技术</span></a></h1><h3 id="_1-路由器配置模式及切换" tabindex="-1"><a class="header-anchor" href="#_1-路由器配置模式及切换"><span>1. 路由器配置模式及切换</span></a></h3><ul><li><strong>用户模式</strong>：提示符<code>&gt;</code>，基础查看权限</li><li><strong>特权模式</strong>：输入<code>enable</code>从用户模式进入，提示符<code>#</code>，可查看设备完整配置</li><li><strong>全局配置模式</strong>：特权模式输入<code>configure terminal</code>进入，提示符<code>(config)#</code>，可进行全局参数配置</li></ul><h3 id="_2-show命令" tabindex="-1"><a class="header-anchor" href="#_2-show命令"><span>2. show命令</span></a></h3><table><thead><tr><th>命令</th><th>作用</th></tr></thead><tbody><tr><td><code>show running-config</code></td><td>查看当前运行配置</td></tr><tr><td><code>show startup-config</code></td><td>查看启动配置（设备重启后生效）</td></tr><tr><td><code>show ip int brief</code></td><td>查看接口IP地址及工作状态</td></tr><tr><td><code>show ip nat tr</code></td><td>查看NAT地址转换表</td></tr><tr><td><code>show arp</code></td><td>查看ARP缓存表</td></tr></tbody></table><h3 id="_3-密码配置" tabindex="-1"><a class="header-anchor" href="#_3-密码配置"><span>3. 密码配置</span></a></h3><ul><li><code>enable password</code>：配置明文特权密码（可被直接查看）</li><li><code>enable secret</code>：配置加密特权密码（优先级高于明文密码，可结合MD5加密，同时配置时仅加密密码生效）</li></ul><h3 id="_4-以太网以及双绞线" tabindex="-1"><a class="header-anchor" href="#_4-以太网以及双绞线"><span>4. 以太网以及双绞线</span></a></h3><ul><li>以太网：10Mbps</li><li>快速以太网：100Mbps</li><li>千兆网：1000Mbps</li><li>同轴电缆(以太网)</li><li>双绞线</li><li>五类双绞线（快速以太网）</li><li>超五类双绞线</li><li>六类双绞线（千兆网）</li></ul><h3 id="_5-交换机和路由器" tabindex="-1"><a class="header-anchor" href="#_5-交换机和路由器"><span>5. 交换机和路由器</span></a></h3><ul><li>交换机和路由器对于cpu/内存的要求都不高</li><li>一个接口能同时配置多个IP地址和多个Mac地址</li><li>交换机的多个端口可以一起工作，各各都是独立运行的</li><li>交换机是提供mac地址表（由mac地址和其对应端口号组成）</li><li>路由器是提供路由表（由目的IP地址和下一跳IP地址组成）</li><li>新交换机默认VLAN为VLAN1(native VLAN),在接口软件层面打开的默认都是<code>no shutdown</code>（开启）</li><li>新路由器默认端口默认<code>shutdown</code>（关闭）</li><li>转发器根据目标mac地址转发数据包</li><li>路由器根据目标ip地址转发数据包</li></ul><h3 id="_6-dhcp协议" tabindex="-1"><a class="header-anchor" href="#_6-dhcp协议"><span>6. DHCP协议</span></a></h3><ul><li><strong>工作流程 4个包</strong>：Discover（广播 用于寻找服务器）→ Offer（单播 提供可提供的ip地址）→ Request（广播 用于请求分配ip地址）→ ACK（单播 确认分配ip地址）</li><li>目标MAC为<code>FF:FF:FF:FF:FF:FF</code>，目标IP为<code>255.255.255.255</code></li></ul><h3 id="_7-管理距离-ad-和度量值-metric" tabindex="-1"><a class="header-anchor" href="#_7-管理距离-ad-和度量值-metric"><span>7. 管理距离（AD）和度量值（Metric）</span></a></h3><ul><li>管理距离（AD）：同一路由条目下的不同的协议，<strong>AD值小的协议路由优先</strong></li><li>静态路由：1；OSPF：110；EIGRP：90；RIP：120</li><li>度量值（Metric）：同一路由协议下的不同路径，<strong>度量值小的路径优先</strong></li><li>rip:以跳数（hop）计算 OSPF:以带宽计算（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msup><mn>10</mn><mn>8</mn></msup><mtext>链路带宽</mtext></mfrac></mrow><annotation encoding="application/x-tex">\\frac{10^8}{链路带宽}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">链路带宽</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>）</li></ul><h3 id="_7-arp协议" tabindex="-1"><a class="header-anchor" href="#_7-arp协议"><span>7. ARP协议</span></a></h3><ul><li>更新计时器（30s）：每30s发送路由器更新</li><li>无效计时器（180s）：若未收到ARP响应，认为该IP地址不可达</li><li>抑制计时器（180s）：超时前不接受更差的更新</li><li>刷新计时器（240s）：超时后彻底删除不可达的路由</li><li>防止环路：水平分割 <ul><li>简单水平分割：从某接口收到的路由信息，不再从该接口发回（避免路由环路）</li><li>带毒性逆转：从某接口收到的路由信息，发回时标记为“不可达”（优点：明确告知邻居该路由无效 可以防止直连的环路）</li></ul></li><li>rip的两个包：request、response</li><li>rip的距离：16（不可达），15（直接）</li><li>rip的两个版本：RIPv1（有类路由协议 不支持子网掩码）、RIPv2（无类路由协议 支持子网掩码）</li></ul><h3 id="_8-nat-pat地址" tabindex="-1"><a class="header-anchor" href="#_8-nat-pat地址"><span>8. NAT/PAT地址</span></a></h3><ul><li>NAT <ul><li>静态NAT：一对一地址映射（固定转换1：1）</li><li>动态NAT：多对多地址映射（按需分配不用时候1：m 用的时候是1：1）</li></ul></li><li>PAT（端口地址转换）：一对多地址映射（通过端口区分 一定是1：m）</li></ul><h3 id="_9-ospf协议" tabindex="-1"><a class="header-anchor" href="#_9-ospf协议"><span>9. OSPF协议</span></a></h3><ul><li>三个表：邻居表、链路状态表、路由表</li><li>五个包：Hello、DBD、LSR、LSU、LSAck</li><li>相对于rip ospf全面的好</li></ul><h3 id="_10-一些工作原理" tabindex="-1"><a class="header-anchor" href="#_10-一些工作原理"><span>10. 一些工作原理</span></a></h3><ul><li>PC机的工作原理：如果目标IP与本机IP<strong>同网段</strong>，则直接向目标IP发送ARP请求；如果目标IP与本机IP<strong>不同网段</strong>，则向网关IP发送ARP请求。</li><li>hub的工作原理：接收到数据包，<strong>泛洪</strong>（复制）到所有端口<br> -泛洪：将一个数据包从一个端口发送到多个端口，使得数据包在多个端口上可见</li><li>交换机的工作原理： <ul><li>包含单播转发、多播转发、广播转发</li><li>依据目标IP地址进行转发</li><li>纪录原mac地址</li></ul></li><li>路由器的工作原理：依据ip地址查表走包</li></ul><h3 id="_11-静态路由和动态路由的区别" tabindex="-1"><a class="header-anchor" href="#_11-静态路由和动态路由的区别"><span>11. 静态路由和动态路由的区别</span></a></h3><ul><li>静态路由： <ul><li>手工配置，适用于小型网络，不适用于复杂网络</li><li>不能应对变化，需要手工维护</li><li>能精准控制网络</li></ul></li><li>动态路由： <ul><li>自动学习，适用于复杂网络</li><li>能自动适应网络变化</li><li>控制能力较弱</li></ul></li></ul><h3 id="_12-配置代码" tabindex="-1"><a class="header-anchor" href="#_12-配置代码"><span>12. 配置代码</span></a></h3><p>-DHCP：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>1 service dhcp（开启DHCP服务）</span></span>
<span class="line"><span>2 no ip dhcp conflict logging（关闭DHCP日志信息）</span></span>
<span class="line"><span>3 ip dhcp excluded-address x.x.x.x（排除地址）</span></span>
<span class="line"><span>4 ip dhcp pool xxx（创建dhcp地址池）</span></span>
<span class="line"><span>5 network x.x.x.x x.x.x.x(宣告分配地址网段) </span></span>
<span class="line"><span>6 default-router x.x.x.x（设置默认路由，相当于网关）</span></span>
<span class="line"><span>7 domain-name xxxx.com（设置域名）</span></span>
<span class="line"><span>8 dns-server x.x.x.x（设置DNS服务器）</span></span>
<span class="line"><span>9 lease 【infinite | 100】   （设置租期）</span></span>
<span class="line"><span>10 ip helper-address x.x.x.x (设置DHCP中继语句)</span></span>
<span class="line"><span>11 show ip dhcp binding 查看DHCP客户端信息</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Telent：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>enable</span></span>
<span class="line"><span>configure terminal</span></span>
<span class="line"><span>line vty 0 4</span></span>
<span class="line"><span>transport input telnet</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>OSPF：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>1 Ospf基本配置；</span></span>
<span class="line"><span>2 Router(config)#router ospf xx 创建Ospf进程</span></span>
<span class="line"><span>3 Router(config-router)#router-id x.x.x.x 设置RID</span></span>
<span class="line"><span>4 Router(config-router)#network x.x.x.x x.x.x.x area x 宣告网段（正反掩码）</span></span>
<span class="line"><span>5 消除主机路由</span></span>
<span class="line"><span>6 Router(config-if)#ip ospf network point-to-point 将接口类型改为点到点</span></span>
<span class="line"><span>7 基于链路的简单口令认证</span></span>
<span class="line"><span>8 router(config-if)#ip ospf authentication 链路启用简单口令认证 </span></span>
<span class="line"><span>9 router(config-if)#ip ospf authentication-key xxx 配置认证密码 </span></span>
<span class="line"><span>10 基于链路的OSPF MD5认证</span></span>
<span class="line"><span>11 router(config)#interface f0/0</span></span>
<span class="line"><span>12 router(config-if)#ip ospf authentication message-digest 接口启用MD5认证 </span></span>
<span class="line"><span>13 router(config-if)#ip ospf message-digest-key 1 md5 xxx 配置key ID及密匙</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>RIP：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>1 router rip 开启一个Rip进程</span></span>
<span class="line"><span>2 version 2 指定Rip版本</span></span>
<span class="line"><span>3 no auto-summary 关闭V2版本自动汇总</span></span>
<span class="line"><span>4 network x.x.x.x 宣告主网络号</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>NAT：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>1 静态nat配置： </span></span>
<span class="line"><span>2 ip nat inside source static x.x.x.x x.x.x.x （定义静态NAT转换） </span></span>
<span class="line"><span>3 Ip nat inside（指定内网接口） </span></span>
<span class="line"><span>4 Ip nat outside（指定外网接口）</span></span>
<span class="line"><span>1 动态nat配置：</span></span>
<span class="line"><span>2 ip nat pool xx x.x.x.x x.x.x.x netmask x.x.x.x （定义NAT地址池）</span></span>
<span class="line"><span>3 access-list 1 permit x.x.x.x x.x.x.x （匹配要转换的地址） </span></span>
<span class="line"><span>4 ip nat inside source list 1 pool xx（动态NAT转换） </span></span>
<span class="line"><span>5 Ip nat inside（指定内网接口） </span></span>
<span class="line"><span>6 Ip nat outside（指定外网接口）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PAT：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>1 Pat配置：</span></span>
<span class="line"><span>2 ip nat inside source list 1 interface  F0/0 overload （定义PAT转换）</span></span>
<span class="line"><span>3 access-list 1 permit x.x.x.x x.x.x.x （匹配要转换的地址） </span></span>
<span class="line"><span>4 Ip nat inside（指定内网接口） </span></span>
<span class="line"><span>5 Ip nat outside（指定外网接口）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>单臂路由：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#2e3440ff;color:#d8dee9ff;"><pre class="shiki nord vp-code"><code class="language-"><span class="line"><span>ip route &lt;network-address&gt; &lt;subnet-mask&gt; &lt;next-hop-ip&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,40)])])}const c=n(l,[["render",t]]),d=JSON.parse('{"path":"/posts/%E5%85%B6%E4%BB%96/web.html","title":"网络路由与交换技术","lang":"zh-CN","frontmatter":{"title":"网络路由与交换技术","cover":"/assets/images/cover2.jpg","icon":"pen-to-square","date":"2025-12-22T00:00:00.000Z","category":["网络"],"star":true,"sticky":true,"author":"superxuan","description":"网络路由与交换技术 1. 路由器配置模式及切换 用户模式：提示符>，基础查看权限 特权模式：输入enable从用户模式进入，提示符#，可查看设备完整配置 全局配置模式：特权模式输入configure terminal进入，提示符(config)#，可进行全局参数配置 2. show命令 3. 密码配置 enable password：配置明文特权密码（...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"网络路由与交换技术\\",\\"image\\":[\\"https://mister-hope.github.io/myblog/assets/images/cover2.jpg\\"],\\"datePublished\\":\\"2025-12-22T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-23T13:13:47.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"superxuan\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/myblog/posts/%E5%85%B6%E4%BB%96/web.html"}],["meta",{"property":"og:site_name","content":"superxuan的个人博客"}],["meta",{"property":"og:title","content":"网络路由与交换技术"}],["meta",{"property":"og:description","content":"网络路由与交换技术 1. 路由器配置模式及切换 用户模式：提示符>，基础查看权限 特权模式：输入enable从用户模式进入，提示符#，可查看设备完整配置 全局配置模式：特权模式输入configure terminal进入，提示符(config)#，可进行全局参数配置 2. show命令 3. 密码配置 enable password：配置明文特权密码（..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://mister-hope.github.io/myblog/assets/images/cover2.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-23T13:13:47.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://mister-hope.github.io/myblog/assets/images/cover2.jpg"}],["meta",{"name":"twitter:image:alt","content":"网络路由与交换技术"}],["meta",{"property":"article:author","content":"superxuan"}],["meta",{"property":"article:published_time","content":"2025-12-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-23T13:13:47.000Z"}]]},"git":{"createdTime":1766394845000,"updatedTime":1766495627000,"contributors":[{"name":"superxuan05","username":"superxuan05","email":"2758157702@qq.com","commits":4,"url":"https://github.com/superxuan05"}]},"readingTime":{"minutes":5.86,"words":1758},"filePathRelative":"posts/其他/web.md","excerpt":"\\n<h3>1. 路由器配置模式及切换</h3>\\n<ul>\\n<li><strong>用户模式</strong>：提示符<code>&gt;</code>，基础查看权限</li>\\n<li><strong>特权模式</strong>：输入<code>enable</code>从用户模式进入，提示符<code>#</code>，可查看设备完整配置</li>\\n<li><strong>全局配置模式</strong>：特权模式输入<code>configure terminal</code>进入，提示符<code>(config)#</code>，可进行全局参数配置</li>\\n</ul>\\n<h3>2. show命令</h3>","autoDesc":true}');export{c as comp,d as data};
